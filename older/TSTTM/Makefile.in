include @TSTTM_ROOT@/TSTTM-Defs.inc
include @TSTTB_ROOT@/TSTTB-Defs.inc

IMPL_FLAGS=-DCREATE_ARG=\"$(TSTTM_CREATE_ARG_3D)\"

ALL_INCLUDES=$(TSTTM_CLIENT_CXX_INCLUDES) $(TSTTB_CLIENT_CXX_INCLUDES) $(SIDL_INCLUDES) $(TSTTM_SERVER_INCLUDES) $(TSTTB_SERVER_INCLUDES) $(TSTTM_BACKEND_INCLUDES)

LIBS=$(TSTTM_LIB_DIR) $(TSTTB_LIB_DIR) $(TSTTM_ALL_CXX_LIBS) $(TSTTB_ALL_CXX_LIBS) $(SIDL_LIBS) $(TSTTM_BACKEND_LIBS) @LIBS@

DEPS=$(TSTTM_CLIENT_CXX_LIBFILE) $(TSTTM_SERVER_LIBFILE) $(TSTTB_CLIENT_CXX_LIBFILE) $(TSTTB_SERVER_LIBFILE) $(SIDL_LIBFILE) $(TSTTM_BACKEND_LIBFILE)


.cc.o: TSTTM_unitTest.hh TSTTM_unitTest-config.h 
	@CXX@ $(IMPL_FLAGS) -DSAVE_NAME=\"/tmp/TSTTM-save-test$(SAVE_EXT)\" $(ALL_INCLUDES) -c $<

TSTTM_unitTest: TSTTM_unitTest.o TSTTM_iterTest.o $(DEPS)
	@CXX@ -o TSTTM_unitTest TSTTM_unitTest.o TSTTM_iterTest.o ${LIBS}


depend:
	makedepend $(INCLUDES) *.cc 2> /dev/null

clean: 
	${RM} *.o

distclean: clean
	-rm -f Makefile *~ config.* TSTTM_unitTest TSTTM_unitTest-config.h

# DO NOT DELETE
