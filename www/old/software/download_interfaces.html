<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head><title>ITAPS Interfaces</title>

  
  <link type="text/css" rel="stylesheet" href="/templates/stylesheet.css" /></head><body>

<div id="container">
<div id="banner"><!--#include virtual="../templates/banner.html"--></div>
<div id="menu"><!--#include virtual="/templates/menu.html"--> </div>
<div id="content">

<h1>ITAPS Interfaces</h1>
<!--#include virtual="/templates/specification.html"-->

<h2>Interface Specifications</h2>

The next step to creating interoperable technologies is to define
common interfaces that support the <a href="data_model.html">abstract
data model</a>.  A key aspect of our approach is that we do not
enforce any particular data structure or implementation with our
interfaces, requiring only that certain questions about the geometry,
mesh, or field data can be answered through calls to the
interface. One of the most challenging aspects of this effort remains
balancing performance of the interface with the flexibility needed to
support a wide variety of data types.  Performance is critical for
kernel computations involving mesh and geometry access, and to address
this need, we provide a number of different access patterns including
individual iterator-based and agglomerated array-based
requests. Further challenges arise when considering the support of
many different scientific programming languages which we address using
a two-pronged approach.  First, we provide a C-language binding for our
interfaces that is compatible with most needs in scientific computing.
Additional flexibility, albeit at a somewhat higher cost, is supported
through the use of the 
<a href="http://www.llnl.gov/CASC/components/">SIDL/Babel technology</a>
provided by the Common Component Architecture Forum (CCA).
<br /><br />
There are six ITAPS interfaces, five that correspond to the core data
model components, Geometry (iGeom), Mesh (iMesh/iMeshP), Fields (iField), and
Data Relation Managers (iRel) and one that contains the utilities and
definitions used by more than one of the core interface (iBase). These
interfaces are developed primarily by the ITAPS research team, but the
discussion is open (for more information, contact <a href="mailto:diachin2@llnl.gov">Lori Diachin</a>).  In the table
below, each of the interfaces is briefly described and links to the
interface specification and user guides are given.  <br />

<br />
<div style="text-align: center;"><big style="font-weight: bold;">Interface
Specifications</big><br />
</div>

<table style="margin-left: auto; margin-right: auto; text-align: left; width: 761px; height: 117px;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="width: 10%; vertical-align: top; text-align: center;">Interface<br />
      </td>
      <td style="vertical-align: top; text-align: center;">Description<br />
      </td>
      <td style="width: 25%; vertical-align: top; text-align: center;">Documentation<br />
      </td>
    </tr>
    <tr>
      <td style=""> iBase <br />
      </td>
      <td style="vertical-align: top;">Utilities
and definitions used in multiple ITAPS core interfaces such as entity
type and topology defintions, creation status, tag value types, error
functions. Also contains basic sets and tags functionality definitions.<br />
      </td>
      <td style="vertical-align: top;">
         Incorporated into iMesh <br />
         and iGeom Documentation<br />
      <a href="specifications/iBase-v0.8.h">
         C Specification</a><br />
      <a href="specifications/iBase-v0.8.sidl">
         SIDL Specification</a><br />
      </td>
    </tr>
    <tr>
      <td style=""> iMesh <br />
      </td>
      <td style="vertical-align: top;">Basic services to manage a
discrete mesh composed of <span style="font-style: italic;">sets</span>
of <span style="font-style: italic;">entities</span>, such as nodes,
edges, faces and volumes, <span style="font-style: italic;">modifications</span>
to these entities and <span style="font-style: italic;">tags</span>
and <span style="font-style: italic;">tag data</span> associated sets
of entities.<br />
      </td>
      <td style="vertical-align: top;">
      <a href="iMesh_html/index.html">
         Documentation</a><br />
      <a href="specifications/iMesh-v0.8.h">
         C Specification</a><br />
      <a href="specifications/iMesh-v0.8.sidl">
         SIDL Specification</a><br />
      </td>
    </tr>
    <tr>
      <td style=""> iMeshP <br />
      </td>
      <td style="vertical-align: top;">Functions to manage the parallel aspects
of a discrete mesh that has been decomposed into a <span style="font-style: italic;">partition</span> consisting of <span style="font-style: italic;">parts</span>.
Functions to manage the parts and partition, copies of entities on
different processors, entity migration, data exchange across processor
boundaries. Function descriptions include communication requirements
including collective, point-to-point or none. (Note: Alpha version,
subject to change) <br />
      </td>
      <td style="vertical-align: top;">
      <a href="iMeshP_html/index.html">
         Documentation</a><br />
      <a href="specifications/iMeshP-v0.8.h">
         C Specification</a><br />
         SIDL Specification <br />
      </td>
    </tr>
    <tr>
      <td style="">iGeom<br />
      </td>
      <td style="vertical-align: top;">Continuum, geometric services
such as <span style="font-style: italic;">pointwise interrogations</span>,
parametric and geometric model representations<br />
      </td>
      <td style="vertical-align: top;">
         Documentation<br />
      <a href="specifications/iGeom-v0.8.h">
         C Specification</a><br />
      <a href="specifications/iGeom-v0.8.sidl">
         SIDL Specification</a><br />
      </td>
    </tr>
    <tr>
      <td style="">iRel<br />
      </td>
      <td style="vertical-align: top;">  Manage the relationships among 
 two or more of the core data types, resolve cross references between 
 entities in different groups, and provide additional functionality that
 depends on multiple core data types<br />
      </td>
      <td style="vertical-align: top;">
      <a href="iRel_html/index.html">
         Documentation</a><br />
      <a href="specifications/iRel-v0.8.h">
         C Specification</a><br />
      <a href="specifications/iRel-v0.8.sidl">
         SIDL Specification</a><br />
      </td>
    </tr>
    <tr>
      <td style="">iField<br />
      </td>
      <td style="vertical-align: top;"><br />  Under development.
      </td>
      <td style="vertical-align: top;">
         Documentation<br />
         C Specification<br />
         SIDL Specification<br />
      </td>
    </tr>
  </tbody>
</table>

<br /><br /> 

ITAPS API's are C-like and the C-specification can be called directly
from C, Fortran, C++.  Arguments are passed by value (in arguments) or
by reference (inout, out) and Fortran users will need to use the %VAL
extension.  Memory allocation for lists and arrays are done either in
the application or in the implementation.  If inout list comes in
allocated, the length must be long enough to store results of call.
By definition, allocation/deallocation is done using C malloc/free and
the application is required to free memory returned by
implementation. Fortran users will need to use the "cray pointer"
extension.  Handle types are typedef'd to size_t (iBase_EntityHandle,
iBase_EntitySetHandle, iBase_TagHandle, iMesh_Instance). For string
arguments, we use char * with the length passed by value after all
other arguments.  For enumerated types, the values (iBase_SUCCESS,
etc.) are available for comparison operations, but passed as integer
arguments in C and C++ and as named parameters in Fortran.


<h2>Interface Implementations</h2>

The tables below list the implementations of the
ITAPS interfaces that are currently available, their status, and
distinguishing characteristics.  For more information on a given
interface implementation, please contact the ITAPS research listed in
the POC column. <br /><br />
We believe that the software provided here is compliant with v0.7 of the
ITAPS iMesh, iGeom, and iRel interfaces. All are believed to compile under
Linux gcc/g++-3.2.3.  If you have any problems with the software download,
build or use process, please do not hesitate to contact us.
<br /><br />

<div style="text-align: center;"><big><span style="font-weight: bold;">
Implementations of the ITAPS iBase Interface<br />
</span></big>
<table style="margin-left: auto; margin-right: auto; width: 100%; text-align: left;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top; text-align: center;">Software Name<br />
      </td>
      <td style="width: 20%; vertical-align: top; text-align: center;">POC<br />
      </td>
      <td style="width: 10%; vertical-align: top; text-align: center;">Status<br />
      </td>
      <td style="width: 30%; vertical-align: top; text-align: center;">Distinguishing Characteristics<br />
      </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">SCOREC Utilities<br />
          <a href="http://www.scorec.rpi.edu/software.php">
          More Information</a> / 
<a href="https://redmine.scorec.rpi.edu/svn/itaps/Distributions/iBase_Distributions/RPI/Utilities.tar.gz">Download</a><br />
      </td>
      <td style="vertical-align: top;"><a href="mailto:seol@scorec.rpi.edu">Seegyoung Seol</a>, RPI<br />
      </td>
      <td style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 0);">Partial<br /> </td>
      <td style="vertical-align: top;">Provides iterator and entity set sharable by iMesh, iGeom and iField implementation, currently applied to FMDB.<br />
 </td>
    </tr>

  </tbody>
</table>

<br />

<div style="text-align: center;"><big><span style="font-weight: bold;">
Implementations of the ITAPS iMesh Interface<br />
</span></big>
<table style="width: 100%; text-align: left; margin-left: auto; margin-right: auto;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top; text-align: center;">Software Name<br />
      </td>
      <td style="width: 20%; vertical-align: top; text-align: center;">POC<br />
      </td>
      <td style="width: 10%; vertical-align: top; text-align: center;">Status<br />
      </td>
      <td style="width: 30%; vertical-align: top; text-align: center;">Distinguishing Characteristics<br />
      </td>
    </tr>

    <tr><td style="vertical-align: top;">RefImpl - Reference Implementation<br /><a href="https://svn.scorec.rpi.edu/svn/TSTT/Distributions/iMesh_Distributions/RefImpl/RefImpl-1.0.0p3.tar.gz">Download</a></td><td style="vertical-align: top;"><a href="mailto:cfog@mech.ubc.ca">Carl Ollivier-Gooch</a>, UBC</td><td style="background-color: rgb(51, 204, 0); text-align: center; vertical-align: top;">Complete</td><td>Designed as a small, lightweight reference implementation. &nbsp;Derived from GRUMMP, with the same feature set.</td></tr><tr>
      <td style="vertical-align: top;">MOAB - Mesh-Oriented Data Base <br />
          <a href="http://trac.mcs.anl.gov/projects/ITAPS/wiki/MOAB">More Information</a> / 
          <a href="http://gnep.mcs.anl.gov:8010/moab-nightly.tar.gz">Download</a><br />
      </td>
      <td style="vertical-align: top;"><a href="mailto:tautges@mcs.anl.gov">Tim Tautges</a>, ANL<br />
      </td>
      <td style="background-color: rgb(51, 204, 0); vertical-align: top; text-align: center;">Complete<br /> </td>
      <td style="vertical-align: top;"> All mesh region topologies except Septahedron, all upward and downward adjacencies (varying cost), 2D/3D, full implementation</td>
    </tr>

    <tr>
      <td style="vertical-align: top;">GRUMMP - Generation and
Refinment of Unstructured, Mixed-Element Meshes in Parallel <br />
          <a href="http://tetra.mech.ubc.ca/GRUMMP/">More Information</a> / 
          <a href="ftp://tetra.mech.ubc.ca/pub/GRUMMP/GRUMMP.tar.gz">Download</a><br />
      </td>
      <td style="vertical-align: top;"><a href="mailto:cfog@mech.ubc.ca">Carl Ollivier-Gooch</a>, UBC<br />
      </td>
      <td style="vertical-align: top; text-align: center; background-color: rgb(51, 204, 0);">Complete<br /> </td>
      <td style="vertical-align: top;">
Supports all mesh topologies except septahedra, polygons, and polyhedra
(no edges in 3D), all upward and downward adjacencies (again, no edges
in 3D), 2D/3D, full implementation</td>
    </tr>

    <tr>
      <td style="vertical-align: top;">FMDB - Flexible distributed Mesh DataBase<br />
          <a href="http://www.scorec.rpi.edu/FMDB">More Information</a> / 
          <a href="https://redmine.scorec.rpi.edu/svn/itaps/Distributions/iMesh_Distributions/FMDB/FMDB-1.2.tar.gz">Download</a><br /> 
      </td>
      <td style="vertical-align: top;"><a href="mailto:seol@scorec.rpi.edu">Seegyoung Seol</a>, RPI<br />
      </td>
      <td style="vertical-align: top; text-align: center; background-color: rgb(51, 204, 0);">Complete<br /> </td>
      <td style="vertical-align: top;">Supports all 2D/3D mesh topologies except septahedra, polygons, and polyhedra, all upward and downward adjacencies, full implementation</td>
    </tr>

    <tr>
      <td style="vertical-align: top;">NWGrid <br />
          <a href="http://www.emsl.pnl.gov:2080/nwgrid/">More Information</a> / Download<br />
      </td>
      <td style="vertical-align: top;"><a href="mailto:het@pnl.gov">Harold Trease</a>, PNNL <br />
      </td>
      <td style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 0);">Partial<br /> </td>
      <td style="vertical-align: top;"> Unstructured mixed element, 2D/3D </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">Frontier<br />
          <a href="http://sitsec.ams.sunysb.edu/trac/wiki/FronTier">More Information</a> / 
          <a href="https://svn.scorec.rpi.edu/svn/TSTT/Distributions/iMesh_Distributions/FronTier/FronTier.Lite.06_28_07.tar.gz">Download</a><br />

      </td>
      <td style="vertical-align: top;"><a href="mailto:linli@ams.sunysb.edu">Xiaolin Li</a>, SUNY SB <br />
      </td>
      <td style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 0);">Partial<br /> </td>
      <td style="vertical-align: top;">
Supports triangles, quadrilaterals, tetrahedron, hexahedron, all
downward adjacenies plus vertex to face upward adjacency, 2D/3D,
partial implementation (set functionality incomplete)</td>
    </tr>
 
  </tbody>
</table>

<br />

<div style="text-align: center;"><big><span style="font-weight: bold;">
Implementations of the ITAPS iMeshP Interface<br />
</span></big>
<table style="margin-left: auto; margin-right: auto; width: 100%; text-align: left;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top; text-align: center;">Software Name<br />
      </td>
      <td style="width: 20%; vertical-align: top; text-align: center;">POC<br />
      </td>
      <td style="width: 10%; vertical-align: top; text-align: center;">Status<br />
      </td>
      <td style="width: 30%; vertical-align: top; text-align: center;">Distinguishing Characteristics<br />
      </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">FMDB - Flexible distributed Mesh DataBase<br />
          <a href="http://www.scorec.rpi.edu/FMDB">More Information</a> /
          <a href="https://redmine.scorec.rpi.edu/svn/itaps/Distributions/iMesh_Distributions/FMDB/FMDB-1.2.tar.gz">Download</a><br />
      </td>
      <td style="vertical-align: top;"><a href="mailto:seol@scorec.rpi.edu"> Seegyoung Seol</a>, RPI<br />
      </td>
      <td style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 0);">Partial<br /> </td>
      <td style="vertical-align: top;"> Being applied to support parallel mesh adaptation of meshes with billions of elements</td>
    </tr>

    <tr>
      <td style="vertical-align: top;">MOAB - Mesh-Oriented Data Base <br />
          <a href="http://trac.mcs.anl.gov/projects/ITAPS/wiki/MOAB">More Information</a> / 
          <a href="http://gnep.mcs.anl.gov:8010/moab-nightly.tar.gz">Download</a><br />
      </td>
      <td style="vertical-align: top;"><a href="mailto:tautges@mcs.anl.gov">Tim Tautges</a>, ANL<br />
      </td>
      <td style="background-color: rgb(255, 255, 0); vertical-align: top; text-align: center;">Partial<br /> </td>
      <td style="vertical-align: top;"> Partial implementation; contact the developers for an alpha version of this software</td>
    </tr>

  </tbody>
</table>
</div>

<br />

<div style="text-align: center;"><big><span style="font-weight: bold;">
Implementations of the ITAPS iGeom Interface<br />
</span></big>
<table style="margin-left: auto; margin-right: auto; width: 100%; text-align: left;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top; text-align: center;">Software Name<br />
      </td>
      <td style="width: 20%; vertical-align: top; text-align: center;">POC<br />
      </td>
      <td style="width: 10%; vertical-align: top; text-align: center;">Status<br />
      </td>
      <td style="width: 30%; vertical-align: top; text-align: center;">Distinguishing Characteristics<br />
      </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">CGM Common Geometry Module <br />
          <a href="http://cubit.sandia.gov/cgm.html">More Information</a> /
          <a href="http://gnep.mcs.anl.gov:8010/cgm-nightly.tar.gz"> Download</a><br />
      </td>
      <td style="vertical-align: top;"><a href="mailto:tautges@mcs.anl.gov">Tim Tautges</a>, ANL<br />
      </td>
      <td style="vertical-align: top; text-align: center; background-color: rgb(51, 204, 0);">Complete<br /> </td>
      <td style="vertical-align: top;">  Can query geometry in ACIS, Open.CASCADE, or in ACIS through shared libraries packaged with CUBIT.<br />
</td>
    </tr>

    <tr>
      <td style="vertical-align: top;">GMI - Geometric Model Interface<br />
          <a href="http://www.scorec.rpi.edu/software.php">More Information</a> / 
          <a href="https://redmine.scorec.rpi.edu/svn/itaps/Distributions/iGeom_Distributions/GMI/GMI-1.0.tar.gz">Download</a><br />
      </td>
      <td style="vertical-align: top;"><a href="mailto:seol@scorec.rpi.edu">Seegyoung Seol</a>, RPI <br />
      </td>
      <td style="vertical-align: top; text-align: center; background-color: rgb(255, 255, 0);">Partial<br /> </td>
      <td style="vertical-align: top;"> Supports topological/shape queries, point-wise geometric interrogations, full set of model adjacencies, Supports non-manifold geometric models. Does not support boolean operations and entity set with iterators.
 </td>
    </tr>

  </tbody>
</table>

<br />

<div style="text-align: center;"><big><span style="font-weight: bold;">
Implementations of the ITAPS iRel Interface<br />
</span></big>
<table style="margin-left: auto; margin-right: auto; width: 100%; text-align: left;" border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top; text-align: center;">Software Name<br />
      </td>
      <td style="width: 20%; vertical-align: top; text-align: center;">POC<br />
      </td>
      <td style="width: 10%; vertical-align: top; text-align: center;">Status<br />
      </td>
      <td style="width: 30%; vertical-align: top; text-align: center;">Distinguishing Characteristics<br />
      </td>
    </tr>

    <tr>
      <td style="vertical-align: top;">LASSO<br /><a href="http://trac.mcs.anl.gov/projects/ITAPS/wiki/Lasso">
          More Information</a> / 
          <a href="http://gnep.mcs.anl.gov:8010/lasso-nightly.tar.gz">Download</a><br />
      </td>
      <td style="vertical-align: top;"><a href="mailto:tautges@mcs.anl.gov">Tim Tautges</a>, ANL<br />
      </td>
      <td style="vertical-align: top; text-align: center; background-color: rgb(51, 204, 0);">Complete<br /> </td>
      <td style="vertical-align: top;">Relations
inferred by matching iGeom GLOBAL_ID tag and entity dimension to iMesh
entity sets marked with GEOM_DIMENSION and GLOBAL_ID tag.<br />
 </td>
    </tr>

  </tbody>
</table>

</div>
</div>
</div>


<h2>Useful links:</h2>
<ul>
<li> The version control system <a href="http://subversion.tigris.org/">Subversion</a></li>

<li> Babel is the foundation for a multilanguage scientific compoenent
framework.  The SIDL interfaces are compliant with version 1.4.0 of Babel
available <a href="https://computation.llnl.gov/casc/components/software.html">here</a>.
The Babel <a href="http://computation.llnl.gov/casc/components/components.html">home page</a> contains useful information on buidling and using the Babel tool. </li>

<li> <a href="http://www.gnu.org/software/autoconf/">Autoconf</a> is
used to automatically configure software source code packages and is
used to build all of our available implementations.  We use <a href="https://svn.scorec.rpi.edu/svn/TSTT/Distributions/autopack/autopack-1.3.2.tar.gz">
Autopack v1.3.2</a> </li>

</ul>

<h2>Building iMesh Executables</h2>

<p>Building an iMesh executable requires that the compiler be able to
find the ITAPS header files (e.g., iMesh.h and iBase.h, or their
Fortran counterparts) and that the linker be able to find a library
containing the iMesh implementation. By convention, iMesh
implementations contain a makefile snippet that defines a standard set
of variables; an application's makefile then includes this snippet,
greatly simplifying the build process. An example makefile code
snippet for building an ITAPS executable is shown below. </p>

<pre>1 include /path/to/iMesh/iMesh-Defs.inc<br />2<br />3 FC = gfortran -fcray-pointer -m32<br />4 CXX = g++<br />5 CC = gcc<br />6<br />7 FindConnectC: FindConnectC.o<br />8      $(CXX) $(CXXFLAGS) -o $@ FindConnectC.o ${IMESH_LIBS}<br />9<br />10 FindConnectF: FindConnectF.o<br />11     $(CXX) -m32 -lgfortran -lgfortranbegin -o $@ FindConnectF.o ${IMESH_LIBS}<br /><br />12<br />13 .c.o:<br />14     $(CC) -c $(CFLAGS) $(IMESH_INCLUDES) $&lt;<br />15<br />16 .F.o:<br />17     ${FC} -c ${FFLAGS} ${IMESH_INCLUDES} $&lt;<br /></pre>
Note that both executables are linked using the C++ linker to accommodate
implementation libraries written in C++. The make variables IMESH_INCLUDES
(used in lines 14 and 17) and IMESH_LIBS (using in lines
8 and 11) are defined in /path/to/iMesh/iMesh-Defs.inc; these
variables are of course implementation-dependent. An additional useful
variable defined by convention in this file is IMESH_LIB_FILES,
which identifies iMesh implementation library files, so that these
can be used as dependencies in makefile targets.


<h2>Compliance Testing</h2>

To ensure that your implementations are working as expected we provide
a compliance testing software tool suite.  As you develop your
interface wrappers, please check for code correctness to ensure you
are interface compliant before attempting to link with an ITAPS
service.  If you have confirmed you are compliant with these tests, but
still have a problem with the use of an ITAPS implementation or service, 
please contact the ITAPS POC. <br /> <br />

The iMesh compliance test suite is available 
<a href="https://svn.scorec.rpi.edu/svn/TSTT/Distributions/iMesh_Distributions/iMesh-test-1.0-p3.tar.gz"> here. </a>

<h2>Simple Examples</h2>

Simple examples and tutorial presentation materials for using the interface can 
be found <a href="tutorial.html">here</a>.



<br />
</div>
</div>
</div>
</body></html>
