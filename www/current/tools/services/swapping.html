<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"><!-- InstanceBegin template="/Templates/2col-LeftNav_services.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>ITAPS</title>
<!-- InstanceEndEditable -->
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta name="Description" content="Your description goes here." />
<meta name="Keywords" content="your,keywords,goes,here" />
<meta name="author" content="name and perhaps email" />
<link rel="stylesheet" href="../../itaps.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../assets/viewer/lightbox.css" type="text/css" media="screen" />
<script type="text/javascript" src="../../assets/viewer/lightbox.js"></script>
<!-- InstanceBeginEditable name="head" -->
<!-- InstanceEndEditable -->
<!-- InstanceParam name="bodyID" type="text" value="default" -->
<!-- InstanceParam name="bodyClass" type="text" value="pageTools pageToolsServices pageSwapping" -->
</head>

<body class="pageTools pageToolsServices pageSwapping">
<div id="container">

<div id="sitename">
<h1>ITAPS</h1>
</div>

<div id="mainmenu">
<!--#include virtual="../../assets/inc/mainmenu.html" -->
</div>
 
<div id="wrap">

<div id="leftside">
<h1>Interoperable Tools</h1>
<p>

<a class="nav" href="../interfaces/index.html">Interfaces</a><span class="hide"> | </span>



<a class="nav active" href="index.html" id="linkIndex">Services</a><span class="hide"> | </span>

<a class="nav sub" href="meshgeom.html" id="linkMeshgeom">Mesh Geometry</a><span class="hide"> | </span>
<a class="nav sub" href="curve.html" id="linkCurve">Mesh Curving</a><span class="hide"> | </span>
<a class="nav sub" href="mesquite.html" id="linkMesquite">Mesh Smoothing</a><span class="hide"> | </span>
<a class="nav sub" href="swapping.html" id="linkSwapping">Mesh Swapping</a><span class="hide"> | </span>
<a class="nav sub" href="adaptive-loops.html" id="linkAdaptive-loops">Adaptive Loops</a><span class="hide"> | </span>
<a class="nav sub" href="frontier.html" id="linkFrontier">Front Tracking</a><span class="hide"> | </span>
<a class="nav sub" href="dynamic.html" id="linkDynamic">Dynamic Services</a><span class="hide"> | </span>
<a class="nav sub" href="search.html" id="linkSearch">Search and Sort</a><span class="hide"> | </span>
<a class="nav sub" href="visit_plugin.html" id="linkVisit_plugin">Visit Plugins</a><span class="hide"> | </span>
<a class="nav sub" href="imeshio.html" id="linkImeshio">iMeshIO</a><span class="hide"> | </span>
<a class="nav sub" href="IPComMan.html" id="linkIPComMan">IPComMan</a><span class="hide"> | </span>

<a class="nav sub" href="adaptServ.html" id="linkAdaptServ">Mesh Adapt Service</a><span class="hide"> | </span>
<a class="nav sub" href="petascale_meshing.html" id="linkPetascale_meshing">Petascale Meshing</a><span class="hide"> | </span>
<a class="nav sub" href="shape_opt.html" id="linkShape_opt">Shape Optimization</a><span class="hide"> | </span>
<a class="nav sub" href="amr_front_tracking.html" id="linkAmr_front_tracking">AMR Front Tracking</a><span class="hide"> | </span>
<a class="nav sub" href="solution_transfer.html" id="linkSolution_transfer">Solution Transfer</a>


</p>

</div>




<div id="contentaltL2" ><!-- InstanceBeginEditable name="Content" -->
  <h1>Mesh Swapping</h1>
  
 <p>Mesh swapping improves the quality of unstructured meshes by changing the local topology of the mesh. This technique is especially helpful in three dimensions, where the combination of swapping and shape improvement has been shown to dramatically improve mesh quality and simulation efficiency. As part of SciDAC-1, a state-of-the-art swapping algorithm (part of the <a href="http://tetra.mech.ubc.ca/GRUMMP/index.html" target="_blank">GRUMMP</a> meshing suite) was re-implemented using the mesh and geometry interfaces. This swapping software is already in use in one widely-distributed SciDAC meshing code (GRUMMP) with over 500 downloads per year for applications in fluid and solid mechanics, medicine, and astrophysics.</p>
        
        <p>In two dimensions, face swapping chooses the best diagonal for the quadrilateral formed by two neighboring triangles. Pre-defined quality criteria include the Delaunay criterion and the maximum angle criterion. </p>

<div class="imgContainer fLeft" style="width: 277px;">
	<img src="../../assets/images/swap-3Dface.jpg" alt="3D face  swapping configurations" />
    <p>Figure 1: Face swapping in three dimensions</p>
</div>
        <p>In three dimensions, the swapping service performs both face swapping and edge swapping. The former reconfigures tetrahedra that share a common face, while the latter reconfigures all tetrahedra incident on a single edge. The canonical face swapping case is exchanging two tetrahedra that share a face with three tetrahedra, as shown in the top left part of Figure 1. The inverse swap, from three to two tetrahedra, is also possible. In addition, we allow reconfiguration of two tets to two (T22 case in the figure); in this case, the two shaded faces must be co-planar, and swapping decisions reduce to choosing the best diagonal for the coplanar quadrilateral. If two pairs of tetrahedra in the interior of the mesh share a pair of coplanar faces, this swap is also permitted; in this case, two T22 configurations are back-to-back in the mesh. In addition to these swappable configurations, there are a number of unswappable cases, some of which are illustrated in the bottom of Figure 1. </p>
<div class="imgContainer fRight" style="width: 361px;">
	<img src="../../assets/images/swap-edge-schematic.jpg" alt="Edge swapping schematic" />
    <p>Figure 2: Edge swapping example</p>
</div>
        <p> Edge swapping is a more complicated procedure, replacing N tetrahedra incident a single edge by a new set of 2N-4 tetrahedra. In the example of Figure 2, the edge TB is perpendicular to the screen. The five tetrahedra originally incident on it (01TB, 12TB, 23TB, 34TB, 40TB) are replaced by six new tetrahedra, two for each of the triangles of the (non-planar) triangulation of polygon 01234: 012T, 024T, 234T, 021B, 042B, and 324B. </p>
        <p>The challenge with edge swapping is that the number of possible configurations grows rapidly with the number of tetrahedra incident on the edge to be removed, as seen in the table below. In practice, the number of successful 7-for-10 swaps is very small, so the swapping service does not explore possible swaps for more complex initial configurations.<br />
        </p>
<div class="imgContainer fLeft" style="width: 300px;">
          <table cellpadding="0" cellspacing="0" width="300">
            <tbody>
              <tr>
                <td align="center">Tets before</td>
                <td align="center">3</td>
                <td align="center">4</td>
                <td align="center">5</td>
                <td align="center">6</td>
                <td align="center">7</td>
              </tr>
              <tr>
                <td align="center">Tets after</td>
                <td align="center">2</td>
                <td align="center">4</td>
                <td align="center">6</td>
                <td align="center">8</td>
                <td align="center">10</td>
              </tr>
              <tr>
                <td align="center">Possible configurations<br /></td>
                <td align="center">1<br /></td>
                <td align="center">2<br /></td>
                <td align="center">5<br /></td>
                <td align="center">14<br /></td>
                <td align="center">42<br /></td>
              </tr>
              <tr>
                <td align="center">Tets times configs<br /></td>
                <td align="center">2</td>
                <td align="center">8<br /></td>
                <td align="center">30<br /></td>
                <td align="center">112<br /></td>
                <td align="center">420<br /></td>
              </tr>
              <tr>
                <td align="center">Unique tets<br /></td>
                <td align="center">2</td>
                <td align="center">8<br /></td>
                <td align="center">20<br /></td>
                <td align="center">40<br /></td>
                <td align="center">70</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p> Clearly, checking the quality of each tetrahedron in each possible configuration is a costly undertaking; instead, the quality for each unique tetrahedron is computed only once, and the quality of a given configuration is the minimum quality among its tetrahedra. To simplify bookkeeping, we also take advantage of the symmetries of the post-edge-swapping configurations and store only a small set of canonical post-swap configurations, as shown in Figure 3. </p>
        <p>Both face and edge swapping support pre-defined quality measures that enforce the Delaunay criterion, maximize the minimum sine of dihedral angles (recommended) or minimize the maximum dihedral angle. User-defined quality measures are also supported.</p>
        
<div class="imgContainer center" style="width: 388px;">
	<img src="http://www.tstt-scidac.org/graphics/swap-canonical.jpg" alt="Canonical edge swapping configurations" />
    <p>Figure 3: Canonical configurations for edge swapping, including repeat count.</p>
</div>
<!-- InstanceEndEditable -->
<div class="clearingdiv"></div>
</div>

<div class="clearingdiv">&nbsp;</div>
</div>
</div>
<div id="footer">
  <!--#include virtual="/assets/inc/footer.html" -->
</div>
</body>
<!-- InstanceEnd --></html>