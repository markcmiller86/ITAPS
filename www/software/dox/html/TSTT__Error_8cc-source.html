<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>TSTT_Error.cc Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.14 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>TSTT_Error.cc</h1><a href="TSTT__Error_8cc.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <font class="comment">// </font>
00002 <font class="comment">// File:          TSTT_Error.cc</font>
00003 <font class="comment">// Symbol:        TSTT.Error-v0.1</font>
00004 <font class="comment">// Symbol Type:   class</font>
00005 <font class="comment">// Babel Version: 0.7.4</font>
00006 <font class="comment">// SIDL Created:  20020926 17:48:42 CDT</font>
00007 <font class="comment">// Generated:     20020926 17:48:53 CDT</font>
00008 <font class="comment">// Description:   Client-side glue code for TSTT.Error</font>
00009 <font class="comment">// </font>
00010 <font class="comment">// WARNING: Automatically generated; changes will be lost</font>
00011 <font class="comment">// </font>
00012 <font class="comment">// babel-version = 0.7.4</font>
00013 <font class="comment">// source-line   = 130</font>
00014 <font class="comment">// source-url    = file:/nfs/mcs-homes02/freitag/TSTT/TSTT/Interface/TSTTBase.sidl</font>
00015 <font class="comment">// </font>
00016 
00017 <font class="preprocessor">#ifndef included_TSTT_Error_hh</font>
00018 <font class="preprocessor"></font><font class="preprocessor">#include "<a class="code" href="TSTT__Error_8hh.html">TSTT_Error.hh</a>"</font>
00019 <font class="preprocessor">#endif</font>
00020 <font class="preprocessor"></font><font class="preprocessor">#ifndef included_SIDL_BaseInterface_hh</font>
00021 <font class="preprocessor"></font><font class="preprocessor">#include "SIDL_BaseInterface.hh"</font>
00022 <font class="preprocessor">#endif</font>
00023 <font class="preprocessor"></font><font class="preprocessor">#ifndef included_SIDL_BaseClass_hh</font>
00024 <font class="preprocessor"></font><font class="preprocessor">#include "SIDL_BaseClass.hh"</font>
00025 <font class="preprocessor">#endif</font>
00026 <font class="preprocessor"></font><font class="preprocessor">#include "SIDL_String.h"</font>
00027 <font class="preprocessor">#include "babel_config.h"</font>
00028 <font class="preprocessor">#ifdef SIDL_DYNAMIC_LIBRARY</font>
00029 <font class="preprocessor"></font><font class="preprocessor">#include &lt;stdio.h&gt;</font>
00030 <font class="preprocessor">#include &lt;stdlib.h&gt;</font>
00031 <font class="preprocessor">#include "SIDL_Loader.hh"</font>
00032 <font class="preprocessor">#endif</font>
00033 <font class="preprocessor"></font>
00034 
00036 <font class="comment">// </font>
00037 <font class="comment">// User Defined Methods</font>
00038 <font class="comment">// </font>
00039 
00040 
00055 <font class="keywordtype">void</font>
<a name="l00056"></a><a class="code" href="classTSTT_1_1Error.html#a0">00056</a> <a class="code" href="classTSTT_1_1Error.html#a0">TSTT::Error::addReference</a>(  )
00057 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00058 
00059 {
00060   <font class="keywordflow">if</font> ( d_self == 0 ) {
00061     throw ::SIDL::NullIORException( ::std::string (
00062       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::addReference()\""</font>
00063     ));
00064   }
00065 
00066   <font class="keywordflow">if</font> ( !d_weak_reference ) {
00067     <font class="comment">// pack args to dispatch to ior</font>
00068 
00069     <font class="comment">// dispatch to ior</font>
00070     (*(d_self-&gt;d_epv-&gt;f_addReference))(d_self );
00071     <font class="comment">// unpack results and cleanup</font>
00072 
00073   }
00074 }
00075 
00076 
00077 
00085 <font class="keywordtype">void</font>
<a name="l00086"></a><a class="code" href="classTSTT_1_1Error.html#a1">00086</a> <a class="code" href="classTSTT_1_1Error.html#a1">TSTT::Error::deleteReference</a>(  )
00087 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00088 
00089 {
00090   <font class="keywordflow">if</font> ( d_self == 0 ) {
00091     throw ::SIDL::NullIORException( ::std::string (
00092       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::deleteReference()\""</font>
00093     ));
00094   }
00095 
00096   <font class="keywordflow">if</font> ( !d_weak_reference ) {
00097     <font class="comment">// pack args to dispatch to ior</font>
00098 
00099     <font class="comment">// dispatch to ior</font>
00100     (*(d_self-&gt;d_epv-&gt;f_deleteReference))(d_self );
00101     <font class="comment">// unpack results and cleanup</font>
00102 
00103     d_self = 0;
00104   }
00105 }
00106 
00107 
00108 
00113 <font class="keywordtype">bool</font>
<a name="l00114"></a><a class="code" href="classTSTT_1_1Error.html#a2">00114</a> <a class="code" href="classTSTT_1_1Error.html#a2">TSTT::Error::isSame</a>( <font class="comment">/*in*/</font> ::SIDL::BaseInterface iobj )
00115 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00116 
00117 {
00118   <font class="keywordflow">if</font> ( d_self == 0 ) {
00119     throw ::SIDL::NullIORException( ::std::string (
00120       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::isSame()\""</font>
00121     ));
00122   }
00123   <font class="keywordtype">bool</font> _result;
00124   <font class="comment">// pack args to dispatch to ior</font>
00125   SIDL_bool _local_result;
00126   <font class="comment">// dispatch to ior</font>
00127   _local_result = (*(d_self-&gt;d_epv-&gt;f_isSame))(d_self,
00128     <font class="comment">/* in */</font> iobj._get_ior() );
00129   <font class="comment">// unpack results and cleanup</font>
00130   _result = (_local_result == TRUE);
00131   <font class="keywordflow">return</font> _result;
00132 }
00133 
00134 
00135 
00145 ::SIDL::BaseInterface
<a name="l00146"></a><a class="code" href="classTSTT_1_1Error.html#a3">00146</a> <a class="code" href="classTSTT_1_1Error.html#a3">TSTT::Error::queryInterface</a>( <font class="comment">/*in*/</font> <font class="keyword">const</font> ::std::string&amp; name )
00147 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00148 
00149 {
00150   <font class="keywordflow">if</font> ( d_self == 0 ) {
00151     throw ::SIDL::NullIORException( ::std::string (
00152       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::queryInterface()\""</font>
00153     ));
00154   }
00155   ::SIDL::BaseInterface _result;
00156   <font class="comment">// pack args to dispatch to ior</font>
00157 
00158   <font class="comment">// dispatch to ior</font>
00159   _result = ::SIDL::BaseInterface( (*(d_self-&gt;d_epv-&gt;f_queryInterface))(d_self,
00160     <font class="comment">/* in */</font> name.c_str() ));
00161   <font class="comment">// unpack results and cleanup</font>
00162   <font class="keywordflow">if</font> (_result._not_nil()) {
00163     <font class="comment">// IOR return and constructor both increment, only need one</font>
00164     
00165     (*(_result._get_ior()-&gt;d_epv-&gt;f_deleteReference))(_result._get_ior(
00166     )-&gt;d_object);
00167   }
00168   <font class="keywordflow">return</font> _result;
00169 }
00170 
00171 
00172 
00179 <font class="keywordtype">bool</font>
<a name="l00180"></a><a class="code" href="classTSTT_1_1Error.html#a4">00180</a> <a class="code" href="classTSTT_1_1Error.html#a4">TSTT::Error::isInstanceOf</a>( <font class="comment">/*in*/</font> <font class="keyword">const</font> ::std::string&amp; name )
00181 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00182 
00183 {
00184   <font class="keywordflow">if</font> ( d_self == 0 ) {
00185     throw ::SIDL::NullIORException( ::std::string (
00186       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::isInstanceOf()\""</font>
00187     ));
00188   }
00189   <font class="keywordtype">bool</font> _result;
00190   <font class="comment">// pack args to dispatch to ior</font>
00191   SIDL_bool _local_result;
00192   <font class="comment">// dispatch to ior</font>
00193   _local_result = (*(d_self-&gt;d_epv-&gt;f_isInstanceOf))(d_self,
00194     <font class="comment">/* in */</font> name.c_str() );
00195   <font class="comment">// unpack results and cleanup</font>
00196   _result = (_local_result == TRUE);
00197   <font class="keywordflow">return</font> _result;
00198 }
00199 
00200 
00201 
00205 ::std::string
<a name="l00206"></a><a class="code" href="classTSTT_1_1Error.html#a5">00206</a> <a class="code" href="classTSTT_1_1Error.html#a5">TSTT::Error::getMessage</a>(  )
00207 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00208 
00209 {
00210   <font class="keywordflow">if</font> ( d_self == 0 ) {
00211     throw ::SIDL::NullIORException( ::std::string (
00212       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::getMessage()\""</font>
00213     ));
00214   }
00215   ::std::string _result;
00216   <font class="comment">// pack args to dispatch to ior</font>
00217   <font class="keywordtype">char</font> * _local_result;
00218   <font class="comment">// dispatch to ior</font>
00219   _local_result = (*(d_self-&gt;d_epv-&gt;f_getMessage))(d_self );
00220   <font class="comment">// unpack results and cleanup</font>
00221   <font class="keywordflow">if</font> (_local_result) {
00222     _result = _local_result;
00223     free( _local_result );
00224   }
00225   <font class="keywordflow">return</font> _result;
00226 }
00227 
00228 
00229 
00233 <font class="keywordtype">void</font>
<a name="l00234"></a><a class="code" href="classTSTT_1_1Error.html#a6">00234</a> <a class="code" href="classTSTT_1_1Error.html#a6">TSTT::Error::setMessage</a>( <font class="comment">/*in*/</font> <font class="keyword">const</font> ::std::string&amp; message )
00235 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00236 
00237 {
00238   <font class="keywordflow">if</font> ( d_self == 0 ) {
00239     throw ::SIDL::NullIORException( ::std::string (
00240       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::setMessage()\""</font>
00241     ));
00242   }
00243 
00244   <font class="comment">// pack args to dispatch to ior</font>
00245 
00246   <font class="comment">// dispatch to ior</font>
00247   (*(d_self-&gt;d_epv-&gt;f_setMessage))(d_self, <font class="comment">/* in */</font> message.c_str() );
00248   <font class="comment">// unpack results and cleanup</font>
00249 
00250 }
00251 
00252 
00253 
00258 ::std::string
<a name="l00259"></a><a class="code" href="classTSTT_1_1Error.html#a7">00259</a> <a class="code" href="classTSTT_1_1Error.html#a7">TSTT::Error::getTrace</a>(  )
00260 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00261 
00262 {
00263   <font class="keywordflow">if</font> ( d_self == 0 ) {
00264     throw ::SIDL::NullIORException( ::std::string (
00265       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::getTrace()\""</font>
00266     ));
00267   }
00268   ::std::string _result;
00269   <font class="comment">// pack args to dispatch to ior</font>
00270   <font class="keywordtype">char</font> * _local_result;
00271   <font class="comment">// dispatch to ior</font>
00272   _local_result = (*(d_self-&gt;d_epv-&gt;f_getTrace))(d_self );
00273   <font class="comment">// unpack results and cleanup</font>
00274   <font class="keywordflow">if</font> (_local_result) {
00275     _result = _local_result;
00276     free( _local_result );
00277   }
00278   <font class="keywordflow">return</font> _result;
00279 }
00280 
00281 
00282 
00286 <font class="keywordtype">void</font>
<a name="l00287"></a><a class="code" href="classTSTT_1_1Error.html#a8">00287</a> <a class="code" href="classTSTT_1_1Error.html#a8">TSTT::Error::addToStackTrace</a>( <font class="comment">/*in*/</font> <font class="keyword">const</font> ::std::string&amp; traceline )
00288 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00289 
00290 {
00291   <font class="keywordflow">if</font> ( d_self == 0 ) {
00292     throw ::SIDL::NullIORException( ::std::string (
00293       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::addToStackTrace()\""</font>
00294     ));
00295   }
00296 
00297   <font class="comment">// pack args to dispatch to ior</font>
00298 
00299   <font class="comment">// dispatch to ior</font>
00300   (*(d_self-&gt;d_epv-&gt;f_addToStackTrace))(d_self, <font class="comment">/* in */</font> traceline.c_str() );
00301   <font class="comment">// unpack results and cleanup</font>
00302 
00303 }
00304 
00305 
00306 
00311 <font class="keywordtype">void</font>
<a name="l00312"></a><a class="code" href="classTSTT_1_1Error.html#a9">00312</a> <a class="code" href="classTSTT_1_1Error.html#a9">TSTT::Error::addToTrace</a>( <font class="comment">/*in*/</font> <font class="keyword">const</font> ::std::string&amp; filename,
00313   <font class="comment">/*in*/</font> int32_t lineno, <font class="comment">/*in*/</font> <font class="keyword">const</font> ::std::string&amp; methodname )
00314 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00315 
00316 {
00317   <font class="keywordflow">if</font> ( d_self == 0 ) {
00318     throw ::SIDL::NullIORException( ::std::string (
00319       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::addToTrace()\""</font>
00320     ));
00321   }
00322 
00323   <font class="comment">// pack args to dispatch to ior</font>
00324 
00325   <font class="comment">// dispatch to ior</font>
00326   (*(d_self-&gt;d_epv-&gt;f_addToTrace))(d_self, <font class="comment">/* in */</font> filename.c_str(),
00327     <font class="comment">/* in */</font> lineno, <font class="comment">/* in */</font> methodname.c_str() );
00328   <font class="comment">// unpack results and cleanup</font>
00329 
00330 }
00331 
00332 
00333 
00339 <font class="keywordtype">void</font>
<a name="l00340"></a><a class="code" href="classTSTT_1_1Error.html#a10">00340</a> <a class="code" href="classTSTT_1_1Error.html#a10">TSTT::Error::setDefaultAction</a>( <font class="comment">/*in*/</font> ::TSTT::ErrorActions action )
00341 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00342 
00343 {
00344   <font class="keywordflow">if</font> ( d_self == 0 ) {
00345     throw ::SIDL::NullIORException( ::std::string (
00346       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::setDefaultAction()\""</font>
00347     ));
00348   }
00349 
00350   <font class="comment">// pack args to dispatch to ior</font>
00351 
00352   <font class="comment">// dispatch to ior</font>
00353   (*(d_self-&gt;d_epv-&gt;f_setDefaultAction))(d_self,
00354     <font class="comment">/* in */</font> (<font class="keyword">enum</font> TSTT_ErrorActions__enum)action );
00355   <font class="comment">// unpack results and cleanup</font>
00356 
00357 }
00358 
00359 
00360 
00366 <font class="keywordtype">void</font>
<a name="l00367"></a><a class="code" href="classTSTT_1_1Error.html#a11">00367</a> <a class="code" href="classTSTT_1_1Error.html#a11">TSTT::Error::getDefaultAction</a>( <font class="comment">/*out*/</font> ::TSTT::ErrorActions&amp; action )
00368 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00369 
00370 {
00371   <font class="keywordflow">if</font> ( d_self == 0 ) {
00372     throw ::SIDL::NullIORException( ::std::string (
00373       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::getDefaultAction()\""</font>
00374     ));
00375   }
00376 
00377   <font class="comment">// pack args to dispatch to ior</font>
00378 
00379   <font class="comment">// dispatch to ior</font>
00380   (*(d_self-&gt;d_epv-&gt;f_getDefaultAction))(d_self,
00381     <font class="comment">/* out */</font> (<font class="keyword">enum</font> TSTT_ErrorActions__enum*)&amp;action );
00382   <font class="comment">// unpack results and cleanup</font>
00383 
00384 }
00385 
00386 
00387 
00393 <font class="keywordtype">void</font>
<a name="l00394"></a><a class="code" href="classTSTT_1_1Error.html#a12">00394</a> <a class="code" href="classTSTT_1_1Error.html#a12">TSTT::Error::set</a>( <font class="comment">/*in*/</font> int32_t err, <font class="comment">/*in*/</font> <font class="keyword">const</font> ::std::string&amp; description )
00395 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00396 
00397 {
00398   <font class="keywordflow">if</font> ( d_self == 0 ) {
00399     throw ::SIDL::NullIORException( ::std::string (
00400       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::set()\""</font>
00401     ));
00402   }
00403 
00404   <font class="comment">// pack args to dispatch to ior</font>
00405 
00406   <font class="comment">// dispatch to ior</font>
00407   (*(d_self-&gt;d_epv-&gt;f_set))(d_self, <font class="comment">/* in */</font> err,
00408     <font class="comment">/* in */</font> description.c_str() );
00409   <font class="comment">// unpack results and cleanup</font>
00410 
00411 }
00412 
00413 
00414 
00418 <font class="keywordtype">bool</font>
<a name="l00419"></a><a class="code" href="classTSTT_1_1Error.html#a13">00419</a> <a class="code" href="classTSTT_1_1Error.html#a13">TSTT::Error::ok</a>(  )
00420 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00421 
00422 {
00423   <font class="keywordflow">if</font> ( d_self == 0 ) {
00424     throw ::SIDL::NullIORException( ::std::string (
00425       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::ok()\""</font>
00426     ));
00427   }
00428   <font class="keywordtype">bool</font> _result;
00429   <font class="comment">// pack args to dispatch to ior</font>
00430   SIDL_bool _local_result;
00431   <font class="comment">// dispatch to ior</font>
00432   _local_result = (*(d_self-&gt;d_epv-&gt;f_ok))(d_self );
00433   <font class="comment">// unpack results and cleanup</font>
00434   _result = (_local_result == TRUE);
00435   <font class="keywordflow">return</font> _result;
00436 }
00437 
00438 
00439 
00446 <font class="keywordtype">void</font>
<a name="l00447"></a><a class="code" href="classTSTT_1_1Error.html#a14">00447</a> <a class="code" href="classTSTT_1_1Error.html#a14">TSTT::Error::get</a>( <font class="comment">/*out*/</font> int32_t&amp; err, <font class="comment">/*out*/</font> ::std::string&amp; description )
00448 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00449 
00450 {
00451   <font class="keywordflow">if</font> ( d_self == 0 ) {
00452     throw ::SIDL::NullIORException( ::std::string (
00453       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::get()\""</font>
00454     ));
00455   }
00456 
00457   <font class="comment">// pack args to dispatch to ior</font>
00458   <font class="keywordtype">char</font> * _local_description = 0;
00459   <font class="comment">// dispatch to ior</font>
00460   (*(d_self-&gt;d_epv-&gt;f_get))(d_self, <font class="comment">/* out */</font> &amp;err,
00461     <font class="comment">/* out */</font> &amp;_local_description );
00462   <font class="comment">// unpack results and cleanup</font>
00463   <font class="keywordflow">if</font> (_local_description) {
00464     description = _local_description;
00465     SIDL_String_free( _local_description);
00466   }
00467   <font class="keywordflow">else</font> {
00468     description = <font class="stringliteral">""</font>;
00469   }
00470 }
00471 
00472 
00473 
00477 int32_t
<a name="l00478"></a><a class="code" href="classTSTT_1_1Error.html#a15">00478</a> <a class="code" href="classTSTT_1_1Error.html#a15">TSTT::Error::getErrorNumber</a>(  )
00479 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00480 
00481 {
00482   <font class="keywordflow">if</font> ( d_self == 0 ) {
00483     throw ::SIDL::NullIORException( ::std::string (
00484       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::getErrorNumber()\""</font>
00485     ));
00486   }
00487   int32_t _result;
00488   <font class="comment">// pack args to dispatch to ior</font>
00489 
00490   <font class="comment">// dispatch to ior</font>
00491   _result = (*(d_self-&gt;d_epv-&gt;f_getErrorNumber))(d_self );
00492   <font class="comment">// unpack results and cleanup</font>
00493 
00494   <font class="keywordflow">return</font> _result;
00495 }
00496 
00497 
00498 
00503 <font class="keywordtype">void</font>
<a name="l00504"></a><a class="code" href="classTSTT_1_1Error.html#a16">00504</a> <a class="code" href="classTSTT_1_1Error.html#a16">TSTT::Error::getErrorDescription</a>( <font class="comment">/*out*/</font> ::std::string&amp; description )
00505 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00506 
00507 {
00508   <font class="keywordflow">if</font> ( d_self == 0 ) {
00509     throw ::SIDL::NullIORException( ::std::string (
00510       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::getErrorDescription()\""</font>
00511     ));
00512   }
00513 
00514   <font class="comment">// pack args to dispatch to ior</font>
00515   <font class="keywordtype">char</font> * _local_description = 0;
00516   <font class="comment">// dispatch to ior</font>
00517   (*(d_self-&gt;d_epv-&gt;f_getErrorDescription))(d_self,
00518     <font class="comment">/* out */</font> &amp;_local_description );
00519   <font class="comment">// unpack results and cleanup</font>
00520   <font class="keywordflow">if</font> (_local_description) {
00521     description = _local_description;
00522     SIDL_String_free( _local_description);
00523   }
00524   <font class="keywordflow">else</font> {
00525     description = <font class="stringliteral">""</font>;
00526   }
00527 }
00528 
00529 
00530 
00537 <font class="keywordtype">void</font>
<a name="l00538"></a><a class="code" href="classTSTT_1_1Error.html#a17">00538</a> <a class="code" href="classTSTT_1_1Error.html#a17">TSTT::Error::printError</a>( <font class="comment">/*in*/</font> <font class="keyword">const</font> ::std::string&amp; label )
00539 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00540 
00541 {
00542   <font class="keywordflow">if</font> ( d_self == 0 ) {
00543     throw ::SIDL::NullIORException( ::std::string (
00544       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::printError()\""</font>
00545     ));
00546   }
00547 
00548   <font class="comment">// pack args to dispatch to ior</font>
00549 
00550   <font class="comment">// dispatch to ior</font>
00551   (*(d_self-&gt;d_epv-&gt;f_printError))(d_self, <font class="comment">/* in */</font> label.c_str() );
00552   <font class="comment">// unpack results and cleanup</font>
00553 
00554 }
00555 
00556 
00557 
00563 <font class="keywordtype">void</font>
<a name="l00564"></a><a class="code" href="classTSTT_1_1Error.html#a18">00564</a> <a class="code" href="classTSTT_1_1Error.html#a18">TSTT::Error::actOnError</a>(  )
00565 <font class="keywordflow">throw</font> ( ::SIDL::NullIORException ) 
00566 
00567 {
00568   <font class="keywordflow">if</font> ( d_self == 0 ) {
00569     throw ::SIDL::NullIORException( ::std::string (
00570       <font class="stringliteral">"Null IOR Pointer in \"TSTT::Error::actOnError()\""</font>
00571     ));
00572   }
00573 
00574   <font class="comment">// pack args to dispatch to ior</font>
00575 
00576   <font class="comment">// dispatch to ior</font>
00577   (*(d_self-&gt;d_epv-&gt;f_actOnError))(d_self );
00578   <font class="comment">// unpack results and cleanup</font>
00579 
00580 }
00581 
00582 
00583 
00585 <font class="comment">// </font>
00586 <font class="comment">// End User Defined Methods</font>
00587 <font class="comment">// (everything else in this file is specific to</font>
00588 <font class="comment">//  Babel's C++ bindings)</font>
00589 <font class="comment">// </font>
00590 
00591 <font class="comment">// static constructor</font>
00592 ::TSTT::Error
<a name="l00593"></a><a class="code" href="classTSTT_1_1Error.html#a20">00593</a> <a class="code" href="classTSTT_1_1Error.html#a20">TSTT::Error::_create</a>() {
00594   ::TSTT::Error self( (*<a class="code" href="classTSTT_1_1Error.html#d0">_get_ext</a>()-&gt;createObject)() );
00595   <font class="comment">// NOTE: reference count == 2. </font>
00596   <font class="comment">//   (1 from createObject, 1 from IOR-&gt;C++)</font>
00597   <font class="comment">// Decrement this count back down to one.</font>
00598   (*(self.d_self-&gt;d_epv-&gt;f_deleteReference))(self.d_self);
00599   <font class="keywordflow">return</font> self;
00600 }
00601 
00602 <font class="comment">// default destructor</font>
<a name="l00603"></a><a class="code" href="classTSTT_1_1Error.html#a21">00603</a> <a class="code" href="classTSTT_1_1Error.html#a21">TSTT::Error::~Error</a> () {
00604   <font class="keywordflow">if</font> ( <a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> != 0 ) {
00605     <a class="code" href="classTSTT_1_1Error.html#a1">deleteReference</a>();
00606   }
00607 }
00608 
00609 <font class="comment">// copy constructor</font>
00610 <a class="code" href="classTSTT_1_1Error.html#a19">TSTT::Error::Error</a> ( <font class="keyword">const</font> ::<a class="code" href="classTSTT_1_1Error.html">TSTT::Error</a>&amp; original ) {
00611   <a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> = const_cast&lt; ior_t*&gt;(original.<a class="code" href="classTSTT_1_1Error.html#o0">d_self</a>);
00612   <a class="code" href="classTSTT_1_1Error.html#o1">d_weak_reference</a> = original.<a class="code" href="classTSTT_1_1Error.html#o1">d_weak_reference</a>;
00613   <font class="keywordflow">if</font> (<a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> != 0 ) {
00614     <a class="code" href="classTSTT_1_1Error.html#a0">addReference</a>();
00615   }
00616 }
00617 
00618 <font class="comment">// assignment operator</font>
00619 ::TSTT::Error&amp;
00620 <a class="code" href="classTSTT_1_1Error.html#a23">TSTT::Error::operator=</a>( <font class="keyword">const</font> ::<a class="code" href="classTSTT_1_1Error.html">TSTT::Error</a>&amp; rhs ) {
00621   <font class="keywordflow">if</font> ( <a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> != rhs.<a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> ) {
00622     <font class="keywordflow">if</font> ( <a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> != 0 ) {
00623       <a class="code" href="classTSTT_1_1Error.html#a1">deleteReference</a>();
00624     }
00625     <a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> = const_cast&lt; ior_t*&gt;(rhs.<a class="code" href="classTSTT_1_1Error.html#o0">d_self</a>);
00626     <a class="code" href="classTSTT_1_1Error.html#o1">d_weak_reference</a> = rhs.<a class="code" href="classTSTT_1_1Error.html#o1">d_weak_reference</a>;
00627     <font class="keywordflow">if</font> ( <a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> != 0 ) {
00628       <a class="code" href="classTSTT_1_1Error.html#a0">addReference</a>();
00629     }
00630   }
00631   <font class="keywordflow">return</font> *<font class="keyword">this</font>;
00632 }
00633 
00634 <font class="comment">// conversion from ior to C++ class</font>
<a name="l00635"></a><a class="code" href="classTSTT_1_1Error.html#a24">00635</a> <a class="code" href="classTSTT_1_1Error.html#a19">TSTT::Error::Error</a> ( ::<a class="code" href="classTSTT_1_1Error.html#s0">TSTT::Error::ior_t</a>* ior ) 
00636     : d_self( ior ), d_weak_reference(false) {
00637   <font class="keywordflow">if</font> ( <a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> != 0 ) {
00638     <a class="code" href="classTSTT_1_1Error.html#a0">addReference</a>();
00639   }
00640 }
00641 
00642 <font class="comment">// Alternate constructor: does not call addReference()</font>
00643 <font class="comment">// (sets d_weak_reference=isWeak)</font>
00644 <font class="comment">// For internal use by Impls (fixes bug#275)</font>
<a name="l00645"></a><a class="code" href="classTSTT_1_1Error.html#a25">00645</a> <a class="code" href="classTSTT_1_1Error.html#a19">TSTT::Error::Error</a> ( ::<a class="code" href="classTSTT_1_1Error.html#s0">TSTT::Error::ior_t</a>* ior, <font class="keywordtype">bool</font> isWeak ) 
00646     : d_self( ior ), d_weak_reference(isWeak) { 
00647 }
00648 
00649 <font class="comment">// conversion from a StubBase</font>
<a name="l00650"></a><a class="code" href="classTSTT_1_1Error.html#a26">00650</a> <a class="code" href="classTSTT_1_1Error.html#a19">TSTT::Error::Error</a> ( <font class="keyword">const</font> ::SIDL::StubBase&amp; base )
00651 {
00652   <a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> = reinterpret_cast&lt; ior_t*&gt;(base._cast(<font class="stringliteral">"TSTT.Error"</font>));
00653   <a class="code" href="classTSTT_1_1Error.html#o1">d_weak_reference</a> = <font class="keyword">false</font>;
00654   <font class="keywordflow">if</font> (<a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> != 0) {
00655     <a class="code" href="classTSTT_1_1Error.html#a0">addReference</a>();
00656   }
00657 }
00658 
00659 <font class="comment">// protected method that implements casting</font>
<a name="l00660"></a><a class="code" href="classTSTT_1_1Error.html#b0">00660</a> <font class="keywordtype">void</font>* <a class="code" href="classTSTT_1_1Error.html#b0">TSTT::Error::_cast</a>(<font class="keyword">const</font> <font class="keywordtype">char</font>* type)<font class="keyword"> const</font>
00661 <font class="keyword"></font>{
00662   <font class="keywordtype">void</font>* ptr = 0;
00663   <font class="keywordflow">if</font> ( <a class="code" href="classTSTT_1_1Error.html#o0">d_self</a> != 0 ) {
00664     ptr = reinterpret_cast&lt; void*&gt;((*<a class="code" href="classTSTT_1_1Error.html#o0">d_self</a>-&gt;d_epv-&gt;f__cast)(<a class="code" href="classTSTT_1_1Error.html#o0">d_self</a>, type));
00665   }
00666   <font class="keywordflow">return</font> ptr;
00667 }
00668 
00669 <font class="comment">// Static data type</font>
<a name="l00670"></a><a class="code" href="classTSTT_1_1Error.html#r0">00670</a> const ::TSTT::Error::ext_t * <a class="code" href="classTSTT_1_1Error.html#r0">TSTT::Error::s_ext</a>;
00671 
00672 <font class="comment">// private static method to get static data type</font>
00673 const ::TSTT::Error::ext_t *
<a name="l00674"></a><a class="code" href="classTSTT_1_1Error.html#d0">00674</a> <a class="code" href="classTSTT_1_1Error.html#d0">TSTT::Error::_get_ext</a>()
00675   <font class="keywordflow">throw</font> (::SIDL::NullIORException)
00676 {
00677   <font class="keywordflow">if</font> (! s_ext ) {
00678 <font class="preprocessor">#ifdef SIDL_STATIC_LIBRARY</font>
00679 <font class="preprocessor"></font>    s_ext = TSTT_Error__externals();
00680 <font class="preprocessor">#else</font>
00681 <font class="preprocessor"></font>    <font class="keyword">const</font> ext_t *(*dll_f)(void) =
00682       (<font class="keyword">const</font> ext_t *(*)(void)) ::SIDL::Loader::lookupSymbol(
00683         <font class="stringliteral">"TSTT_Error__externals"</font>);
00684     s_ext = (dll_f ? (*dll_f)() : NULL);
00685     <font class="keywordflow">if</font> (!s_ext) {
00686       throw ::SIDL::NullIORException( ::std::string (
00687         <font class="stringliteral">"cannot find implementation for TSTT.Error; please set SIDL_DLL_PATH"</font>
00688       ));
00689     }
00690 <font class="preprocessor">#endif</font>
00691 <font class="preprocessor"></font>  }
00692   <font class="keywordflow">return</font> s_ext;
00693 }
00694 
</pre></div><hr><address><small>Generated on Thu Sep 26 17:49:23 2002 for TSTT Interface Definition by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.14 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2002</small></address>
</body>
</html>
